(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a394b28"],{2818:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._m(0),e("LoginForm",{attrs:{title:t.title,path:t.path}}),e("section",{staticClass:"section-actions"},[e("router-link",{staticClass:"section-actions__link",attrs:{to:"/user/register"}},[t._v(" 註冊 Alphitter ")]),e("span",{staticClass:"section-actions__dot"},[t._v("·")]),e("router-link",{staticClass:"section-actions__link",attrs:{to:"/admin/login"}},[t._v(" 後台登入 ")])],1)],1)},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:e("e347"),alt:"logo"}})])}],r=e("61b1"),o={name:"UserLogin",components:{LoginForm:r["a"]},data:function(){return{title:"登入 Alphitter",path:{name:"User"}}}},i=o,c=(e("e224"),e("2877")),u=Object(c["a"])(i,a,n,!1,null,"d9e5f162",null);s["default"]=u.exports},"31c1":function(t,s,e){},"61b1":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("form",{staticClass:"form",on:{submit:function(s){return s.preventDefault(),s.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form__title"},[t._v(t._s(t.title))]),e("div",{staticClass:"form__account"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form__account__input",attrs:{id:"account",name:"account",type:"text",required:""},domProps:{value:t.account},on:{input:function(s){s.target.composing||(t.account=s.target.value)}}}),e("label",{staticClass:"form__account__label",attrs:{for:"form__account__input"}},[t._v(" 帳號 ")])]),e("div",{staticClass:"form__password"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form__password__input",attrs:{id:"password",name:"password",type:"password",required:""},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),e("label",{staticClass:"form__password__label",attrs:{for:"form__password__input"}},[t._v(" 密碼 ")])]),e("button",{staticClass:"form__submit",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 登入 ")])])},n=[],r=e("1da1"),o=(e("96cf"),e("2fa3")),i={signIn:function(t){var s=t.account,e=t.password,a=t.role;return o["b"].post("/".concat(a,"/signin"),{account:s,password:e})}},c={name:"LoginForm",props:{role:{type:String,default:"users"},title:{type:String,default:""},path:{type:Object,required:!0}},data:function(){return{account:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,t.account&&t.password){s.next=4;break}return o["a"].fire({icon:"warning",title:"請填入帳號和密碼"}),s.abrupt("return");case 4:return t.isProcessing=!0,s.next=7,i.signIn({account:t.account,password:t.password,role:t.role});case 7:if(e=s.sent,a=e.data,"success"===a.status){s.next=11;break}throw new Error(a.message);case 11:localStorage.setItem("token",a.token),t.$router.push(t.path),s.next=20;break;case 15:s.prev=15,s.t0=s["catch"](0),t.isProcessing=!1,t.password="",o["a"].fire({icon:"warning",title:"輸入的帳號密碼有誤"});case 20:case"end":return s.stop()}}),s,null,[[0,15]])})))()}}},u=c,l=(e("f3e7"),e("2877")),p=Object(l["a"])(u,a,n,!1,null,"dcb5b566",null);s["a"]=p.exports},a2f9:function(t,s,e){},e224:function(t,s,e){"use strict";e("a2f9")},e347:function(t,s,e){t.exports=e.p+"img/logo.daa01464.svg"},f3e7:function(t,s,e){"use strict";e("31c1")}}]);
//# sourceMappingURL=chunk-4a394b28.82949bd6.js.map