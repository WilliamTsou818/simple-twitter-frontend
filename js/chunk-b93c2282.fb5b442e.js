(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b93c2282"],{"0d93":function(t,e,s){"use strict";s("6d26")},1148:function(t,e,s){"use strict";var n=s("a691"),i=s("577e"),r=s("1d80");t.exports=function(t){var e=i(r(this)),s="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(s+=e);return s}},"14e9":function(t,e,s){"use strict";s("6ac6")},1511:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("NavBar",{staticClass:"sm-d-none",on:{"new-post":t.handleActionNewPost}}),s("TabBar",{staticClass:"lg-d-none",on:{"new-post":t.handleActionNewPost}}),s("main",[s("router-view")],1),s("UserNewPostModal",{directives:[{name:"show",rawName:"v-show",value:t.isNewPostModalOpen,expression:"isNewPostModalOpen"}],on:{close:t.handleNewPostModalClose,"post-success":t.handleNewPostSuccess}}),s("UserReplyModal",{directives:[{name:"show",rawName:"v-show",value:t.isReplyModalOpen,expression:"isReplyModalOpen"}],attrs:{"init-reply":t.replyDetail,"reply-to":t.replyTo},on:{close:t.handleReplyModalClose,"reply-success":t.handleReplySuccess}}),s("UserPopularTop",{staticClass:"md-d-none"})],1)},i=[],r=s("5530"),a=s("2f62"),o=s("d000"),c=s("0311"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{staticClass:"modal",attrs:{name:"modal"}},[n("div",{staticClass:"modal__mask",on:{click:t.handleClose}},[n("div",{staticClass:"modal__container",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"modal__header"},[n("button",{staticClass:"modal__header__close",on:{click:t.handleClose}},[n("img",{staticClass:"modal__header__close-icon",attrs:{src:s("4b58"),alt:"close"}})])]),n("div",{staticClass:"modal__body"},[t.reply.User?n("div",{staticClass:"reply__detail"},[n("div",{staticClass:"reply__detail__left"},[n("div",{staticClass:"reply__detail__avatar",style:{backgroundImage:"url("+t.reply.User.avatar+")"}}),n("div",{staticClass:"reply__detail__line"})]),n("div",{staticClass:"reply__detail__right"},[n("div",{staticClass:"reply__detail__user"},[n("span",{staticClass:"reply__detail__name"},[t._v(t._s(t.reply.User.name))]),n("span",{staticClass:"reply__detail__account"},[t._v(t._s(t._f("altFilter")(t.reply.User.account)))]),n("span",{staticClass:"reply__detail__date"},[t._v("・"+t._s(t._f("fromNowFilter")(t.reply.createdAt)))])]),n("div",{staticClass:"reply__detail__content"},[t._v(" "+t._s(t.reply.description)+" ")]),n("div",{staticClass:"reply__detail__reply"},[n("span",{staticClass:"reply__detail__reply--text"},[t._v("回覆")]),t._v(" "+t._s(t._f("altFilter")(t.replyTo))+" ")])])]):t._e(),n("section",{staticClass:"section-action"},[n("div",{staticClass:"section-action__avatar",style:{backgroundImage:"url("+t.currentUser.avatar+")"}}),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.comment,expression:"comment",modifiers:{trim:!0}}],staticClass:"section-action__comment",attrs:{id:"section-action__comment",name:"comment",rows:"7",placeholder:"推你的回覆",required:""},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("span",{staticClass:"section-action__tip"},[t._v(t._s(t.commentTip))]),n("button",{staticClass:"section-action__btn-reply",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleNewReply.apply(null,arguments)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}]},[t._v("回覆")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"section-action__btn-reply__spinner"})])])])])])])},u=[],d=s("1da1"),p=(s("96cf"),s("4cce")),h=s("2708"),f={name:"UserReplyModal",props:{initReply:{type:Object,required:!0},replyTo:{type:String,require:!0}},data:function(){return{reply:this.initReply,isProcessing:!1,comment:"",commentMaxLength:140,commentTip:""}},watch:{initReply:function(t){this.reply=Object(r["a"])(Object(r["a"])({},this.reply),t)},comment:function(){this.comment.length>this.commentMaxLength?this.commentTip="字數不可超過 ".concat(this.commentMaxLength," 字"):this.commentTip=""}},computed:Object(r["a"])({},Object(a["b"])(["currentUser"])),mixins:[h["c"],h["b"],h["a"]],methods:{handleClose:function(){this.comment="",this.$emit("close")},validation:function(){return this.comment&&0!==this.comment.length||(this.commentTip="內容不可空白"),!(this.commentTip.length>0)||(this.ToastError({title:"請填寫正確回覆內容"}),!1)},handleNewReply:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.validation()){e.next=3;break}return e.abrupt("return");case 3:return t.isProcessing=!0,e.next=6,p["a"].tweets.newReply({tweetId:t.reply.id,comment:t.comment});case 6:if(s=e.sent,n=s.data,"success"===n.status){e.next=10;break}throw new Error(n.message);case 10:t.comment="",t.isProcessing=!1,t.handleClose(),t.$emit("reply-success"),t.ToastSuccess({title:"回覆成功！",description:n.message}),e.next=23;break;case 17:e.prev=17,e.t0=e["catch"](0),t.isProcessing=!1,i="",e.t0.response?(console.log(e.t0.response.data),i=e.t0.response.data.message):(console.log(e.t0),i=e.t0.message),t.ToastError({title:"回覆失敗！",description:i});case 23:case"end":return e.stop()}}),e,null,[[0,17]])})))()}}},m=f,_=(s("0d93"),s("2877")),v=Object(_["a"])(m,l,u,!1,null,"5b5ded2e",null),w=v.exports,g=s("e83a"),y=s("211f"),b={name:"user",components:{NavBar:o["a"],TabBar:c["a"],UserReplyModal:w,UserPopularTop:g["a"],UserNewPostModal:y["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["isNewPostModalOpen","isReplyModalOpen","replyDetail"])),{},{replyTo:function(){return this.replyDetail.User?this.replyDetail.User.account:""}}),mixins:[h["d"]],beforeRouteUpdate:function(t,e,s){this.isNewPostModalOpen&&this.handleNewPostModalClose(),this.isReplyModalOpen&&this.$store.dispatch("isReplyModalOpen",!1),s()},beforeDestroy:function(){this.isNewPostModalOpen&&this.handleNewPostModalClose(),this.isReplyModalOpen&&this.$store.dispatch("isReplyModalOpen",!1)},methods:{handleNewPostModalClose:function(){this.$store.dispatch("isNewPostModalOpen",!1)},handleNewPostSuccess:function(){this.$store.dispatch("isNewPostRefresh",!0)},handleReplyModalClose:function(){this.$store.dispatch("isReplyModalOpen",!1)},handleReplySuccess:function(){this.$store.dispatch("isReplyRefresh",!0)}}},$=b,M=(s("751a"),Object(_["a"])($,n,i,!1,null,"62dbd3dc",null));e["default"]=M.exports},"211f":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{staticClass:"modal",attrs:{name:"modal"}},[n("div",{staticClass:"modal__mask",on:{click:t.handleClose}},[n("div",{staticClass:"modal__container",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"modal__header"},[n("button",{staticClass:"modal__header__close",on:{click:t.handleClose}},[n("img",{staticClass:"modal__header__close-icon",attrs:{src:s("4b58"),alt:"close"}})])]),n("div",{staticClass:"modal__body"},[n("section",{staticClass:"section-post"},[n("div",{staticClass:"section-post__avatar",style:{backgroundImage:"url("+t.currentUser.avatar+")"}}),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"description",modifiers:{trim:!0}}],staticClass:"section-post__description",attrs:{id:"section-post__description",name:"description",rows:"6",placeholder:"有什麼新鮮事？",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("span",{staticClass:"section-post__tip"},[t._v(t._s(t.postTip))]),n("button",{staticClass:"section-post__btn-tweet",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleNewPost.apply(null,arguments)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}]},[t._v("推文")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"section-post__btn-tweet__spinner"})])])])])])])},i=[],r=s("1da1"),a=s("5530"),o=(s("96cf"),s("a4d3"),s("e01a"),s("4cce")),c=s("2708"),l=s("2f62"),u={name:"UserNewPostModal",mixins:[c["a"]],data:function(){return{isProcessing:!1,description:"",descriptionMaxLength:140,postTip:""}},computed:Object(a["a"])({},Object(l["b"])(["currentUser"])),methods:{handleClose:function(){this.description="",this.$emit("close")},validation:function(){return this.description&&0!==this.description.length||(this.postTip="內容不可空白"),!(this.postTip.length>0)||(this.ToastError({title:"請填寫正確推文內容"}),!1)},handleNewPost:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.validation()){e.next=3;break}return e.abrupt("return");case 3:return t.isProcessing=!0,e.next=6,o["a"].tweets.newPost({description:t.description});case 6:if(s=e.sent,n=s.data,"success"===n.status){e.next=10;break}throw new Error(n.message);case 10:t.description="",t.isProcessing=!1,t.handleClose(),t.$emit("post-success"),t.ToastSuccess({title:"推文成功！",description:n.message}),e.next=24;break;case 17:e.prev=17,e.t0=e["catch"](0),t.description="",t.isProcessing=!1,i="",e.t0.response?(console.log(e.t0.response.data),i=e.t0.response.data.message):(console.log(e.t0),i=e.t0.message),t.ToastError({title:"推文失敗！",description:i});case 24:case"end":return e.stop()}}),e,null,[[0,17]])})))()}},watch:{description:function(){this.description.length>this.descriptionMaxLength?this.postTip="字數不可超過 ".concat(this.descriptionMaxLength," 字"):this.postTip=""}}},d=u,p=(s("14e9"),s("2877")),h=Object(p["a"])(d,n,i,!1,null,"60b1af28",null);e["a"]=h.exports},2375:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner"})},i=[],r={},a=r,o=(s("e85f"),s("2877")),c=Object(o["a"])(a,n,i,!1,null,"6422aaba",null);e["a"]=c.exports},"25a1":function(t,e,s){"use strict";s("f221")},2708:function(t,e,s){"use strict";s.d(e,"c",(function(){return u})),s.d(e,"g",(function(){return d})),s.d(e,"f",(function(){return p})),s.d(e,"b",(function(){return h})),s.d(e,"d",(function(){return f})),s.d(e,"e",(function(){return m})),s.d(e,"a",(function(){return _}));var n=s("5530"),i=(s("a9e3"),s("b680"),s("a4d3"),s("e01a"),s("2f62")),r=s("5a0c"),a=s.n(r),o=s("4208"),c=s.n(o),l=(s("5087"),s("d9cb"));a.a.extend(c.a).locale("zh-tw");var u={filters:{fromNowFilter:function(t){if(!t)return"-";var e=a()(),s=e.diff(t,"hour");return s>24?a()(t).format("M月DD日"):a()(t).fromNow(!0)}}},d={filters:{timeFormatFilter:function(t){if(!t)return"-";var e=a()(t).hour()>12?"下午":"上午";return e+a()(t).format(" hh:mm・YYYY年M月DD日")}}},p={filters:{thousandFilter:function(t){return t?Number(t)>1e3&&(t=(t/1e3).toFixed(1),t=String(t)+"K"):t=0,t}}},h={filters:{altFilter:function(t){return t?"@"+t:"@"}}},f={computed:Object(n["a"])({},Object(i["b"])(["isNewPostRefresh"])),methods:{handleActionNewPost:function(){this.$store.dispatch("isNewPostModalOpen",!0)}}},m={computed:Object(n["a"])({},Object(i["b"])(["replyDetail","isReplyRefresh"])),methods:{handleActionReply:function(t){this.$store.dispatch("handleSetReplyDetail",t),this.$store.dispatch("isReplyModalOpen",!0)}}},_={methods:{ToastSuccess:function(t){var e=t.title,s=void 0===e?"":e,n=t.description,i=void 0===n?"":n;this.$toast({component:l["a"],props:{icon:"success",title:s,description:i}})},ToastError:function(t){var e=t.title,s=void 0===e?"":e,n=t.description,i=void 0===n?"":n;this.$toast({component:l["a"],props:{icon:"error",title:s,description:i}})}}}},"27df":function(t,e,s){},"408a":function(t,e){var s=1..valueOf;t.exports=function(t){return s.call(t)}},4208:function(t,e,s){!function(e,s){t.exports=s()}(0,(function(){"use strict";return function(t,e,s){t=t||{};var n=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(t,e,s,i){return n.fromToBase(t,e,s,i)}s.en.relativeTime=i,n.fromToBase=function(e,n,r,a,o){for(var c,l,u,d=r.$locale().relativeTime||i,p=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=p.length,f=0;f<h;f+=1){var m=p[f];m.d&&(c=a?s(e).diff(r,m.d,!0):r.diff(e,m.d,!0));var _=(t.rounding||Math.round)(Math.abs(c));if(u=c>0,_<=m.r||!m.r){_<=1&&f>0&&(m=p[f-1]);var v=d[m.l];o&&(_=o(""+_)),l="string"==typeof v?v.replace("%d",_):v(_,n,m.l,u);break}}if(n)return l;var w=u?d.future:d.past;return"function"==typeof w?w(l):w.replace("%s",l)},n.to=function(t,e){return r(t,e,this,!0)},n.from=function(t,e){return r(t,e,this)};var a=function(t){return t.$u?s.utc():s()};n.toNow=function(t){return this.to(a(this),t)},n.fromNow=function(t){return this.from(a(this),t)}}}))},"4b58":function(t,e,s){t.exports=s.p+"img/close_theme.b1a8a695.svg"},5087:function(t,e,s){!function(e,n){t.exports=n(s("5a0c"))}(0,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=e(t),n={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t){return t+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}};return s.default.locale(n,null,!0),n}))},"5a0c":function(t,e,s){!function(e,s){t.exports=s()}(0,(function(){"use strict";var t=1e3,e=6e4,s=36e5,n="millisecond",i="second",r="minute",a="hour",o="day",c="week",l="month",u="quarter",d="year",p="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(t,e,s){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(s)+t},w={s:v,z:function(t){var e=-t.utcOffset(),s=Math.abs(e),n=Math.floor(s/60),i=s%60;return(e<=0?"+":"-")+v(n,2,"0")+":"+v(i,2,"0")},m:function t(e,s){if(e.date()<s.date())return-t(s,e);var n=12*(s.year()-e.year())+(s.month()-e.month()),i=e.clone().add(n,l),r=s-i<0,a=e.clone().add(n+(r?-1:1),l);return+(-(n+(s-i)/(r?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:c,d:o,D:p,h:a,m:r,s:i,ms:n,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",y={};y[g]=_;var b=function(t){return t instanceof x},$=function(t,e,s){var n;if(!t)return g;if("string"==typeof t)y[t]&&(n=t),e&&(y[t]=e,n=t);else{var i=t.name;y[i]=t,n=i}return!s&&n&&(g=n),n||!s&&g},M=function(t,e){if(b(t))return t.clone();var s="object"==typeof e?e:{};return s.date=t,s.args=arguments,new x(s)},C=w;C.l=$,C.i=b,C.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var x=function(){function _(t){this.$L=$(t.locale,null,!0),this.parse(t)}var v=_.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,s=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(f);if(n){var i=n[2]-1||0,r=(n[7]||"0").substring(0,3);return s?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(t,e){var s=M(t);return this.startOf(e)<=s&&s<=this.endOf(e)},v.isAfter=function(t,e){return M(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<M(t)},v.$g=function(t,e,s){return C.u(t)?this[e]:this.set(s,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,e){var s=this,n=!!C.u(e)||e,u=C.p(t),h=function(t,e){var i=C.w(s.$u?Date.UTC(s.$y,e,t):new Date(s.$y,e,t),s);return n?i:i.endOf(o)},f=function(t,e){return C.w(s.toDate()[t].apply(s.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),s)},m=this.$W,_=this.$M,v=this.$D,w="set"+(this.$u?"UTC":"");switch(u){case d:return n?h(1,0):h(31,11);case l:return n?h(1,_):h(0,_+1);case c:var g=this.$locale().weekStart||0,y=(m<g?m+7:m)-g;return h(n?v-y:v+(6-y),_);case o:case p:return f(w+"Hours",0);case a:return f(w+"Minutes",1);case r:return f(w+"Seconds",2);case i:return f(w+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,e){var s,c=C.p(t),u="set"+(this.$u?"UTC":""),h=(s={},s[o]=u+"Date",s[p]=u+"Date",s[l]=u+"Month",s[d]=u+"FullYear",s[a]=u+"Hours",s[r]=u+"Minutes",s[i]=u+"Seconds",s[n]=u+"Milliseconds",s)[c],f=c===o?this.$D+(e-this.$W):e;if(c===l||c===d){var m=this.clone().set(p,1);m.$d[h](f),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[C.p(t)]()},v.add=function(n,u){var p,h=this;n=Number(n);var f=C.p(u),m=function(t){var e=M(h);return C.w(e.date(e.date()+Math.round(t*n)),h)};if(f===l)return this.set(l,this.$M+n);if(f===d)return this.set(d,this.$y+n);if(f===o)return m(1);if(f===c)return m(7);var _=(p={},p[r]=e,p[a]=s,p[i]=t,p)[f]||1,v=this.$d.getTime()+n*_;return C.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,s=this.$locale();if(!this.isValid())return s.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),r=this.$H,a=this.$m,o=this.$M,c=s.weekdays,l=s.months,u=function(t,s,i,r){return t&&(t[s]||t(e,n))||i[s].substr(0,r)},d=function(t){return C.s(r%12||12,t,"0")},p=s.meridiem||function(t,e,s){var n=t<12?"AM":"PM";return s?n.toLowerCase():n},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:C.s(o+1,2,"0"),MMM:u(s.monthsShort,o,l,3),MMMM:u(l,o),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(s.weekdaysMin,this.$W,c,2),ddd:u(s.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:C.s(r,2,"0"),h:d(1),hh:d(2),a:p(r,a,!0),A:p(r,a,!1),m:String(a),mm:C.s(a,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:i};return n.replace(m,(function(t,e){return e||f[t]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,p,h){var f,m=C.p(p),_=M(n),v=(_.utcOffset()-this.utcOffset())*e,w=this-_,g=C.m(this,_);return g=(f={},f[d]=g/12,f[l]=g,f[u]=g/3,f[c]=(w-v)/6048e5,f[o]=(w-v)/864e5,f[a]=w/s,f[r]=w/e,f[i]=w/t,f)[m]||w,h?g:C.a(g)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return y[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var s=this.clone(),n=$(t,e,!0);return n&&(s.$L=n),s},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},_}(),P=x.prototype;return M.prototype=P,[["$ms",n],["$s",i],["$m",r],["$H",a],["$W",o],["$M",l],["$y",d],["$D",p]].forEach((function(t){P[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,x,M),t.$i=!0),M},M.locale=$,M.isDayjs=b,M.unix=function(t){return M(1e3*t)},M.en=y[g],M.Ls=y,M.p={},M}))},"6ac6":function(t,e,s){},"6d26":function(t,e,s){},"751a":function(t,e,s){"use strict";s("d92d")},"907e":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button-follow",class:{"button-follow-small":t.small,"button-follow-wait":t.isProcessing},attrs:{disabled:t.isProcessing}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.user.isFollowed,expression:"!user.isFollowed"}],staticClass:"button-follow__follow",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickFollow(t.userId)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}]},[t._v("跟隨")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"button-follow__follow__spinner"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.user.isFollowed,expression:"user.isFollowed"}],staticClass:"button-follow__following",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickFollow(t.userId)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}]},[t._v("正在跟隨")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"button-follow__following__spinner"})])])},i=[],r=s("1da1"),a=(s("96cf"),s("a9e3"),s("4cce")),o=s("2708"),c={name:"ButtonFollow",mixins:[o["a"]],props:{user:{type:Object},userId:{type:Number},small:{type:Boolean,defaut:!1}},data:function(){return{isProcessing:!1}},computed:{isViewCurrentUser:function(){return this.$store.getters.getViewUser.isViewCurrentUser}},methods:{handleClickFollow:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var n,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,e.isProcessing=!0,!e.user.isFollowed){s.next=8;break}return s.next=5,a["a"].removeFollowShip({userId:t});case 5:s.t0=s.sent,s.next=11;break;case 8:return s.next=10,a["a"].addFollowShip({id:t});case 10:s.t0=s.sent;case 11:if(n=s.t0,i=n.data,"success"===i.status){s.next=15;break}throw new Error(i.message);case 15:if(e.$store.dispatch("handleSetFollowed",t),e.isViewCurrentUser&&e.user.isFollowed&&(e.$store.dispatch("fetchViewUserFollowings"),e.$store.dispatch("fetchViewUserFollowers")),e.isProcessing=!1,e.ToastSuccess({title:i.message}),"success"===i.status){s.next=21;break}throw new Error(i.message);case 21:s.next=28;break;case 23:s.prev=23,s.t1=s["catch"](0),r="",r=s.t1.response?s.t1.response.data.message:s.t1.message,e.ToastError({title:"更新失敗",description:r});case 28:case"end":return s.stop()}}),s,null,[[0,23]])})))()}}},l=c,u=(s("25a1"),s("2877")),d=Object(u["a"])(l,n,i,!1,null,"bff64330",null);e["a"]=d.exports},"9be1":function(t,e,s){},b439:function(t,e,s){"use strict";s("27df")},b680:function(t,e,s){"use strict";var n=s("23e7"),i=s("a691"),r=s("408a"),a=s("1148"),o=s("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,s){return 0===e?s:e%2===1?u(t,e-1,s*t):u(t*t,e/2,s)},d=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},p=function(t,e,s){var n=-1,i=s;while(++n<6)i+=e*t[n],t[n]=i%1e7,i=l(i/1e7)},h=function(t,e){var s=6,n=0;while(--s>=0)n+=t[s],t[s]=l(n/e),n=n%e*1e7},f=function(t){var e=6,s="";while(--e>=0)if(""!==s||0===e||0!==t[e]){var n=String(t[e]);s=""===s?n:s+a.call("0",7-n.length)+n}return s},m=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));n({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,s,n,o,c=r(this),l=i(t),m=[0,0,0,0,0,0],_="",v="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(_="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,s=e<0?c*u(2,-e,1):c/u(2,e,1),s*=4503599627370496,e=52-e,e>0){p(m,0,s),n=l;while(n>=7)p(m,1e7,0),n-=7;p(m,u(10,n,1),0),n=e-1;while(n>=23)h(m,1<<23),n-=23;h(m,1<<n),p(m,1,1),h(m,2),v=f(m)}else p(m,0,s),p(m,1<<-e,0),v=f(m)+a.call("0",l);return l>0?(o=v.length,v=_+(o<=l?"0."+a.call("0",l-o)+v:v.slice(0,o-l)+"."+v.slice(o-l))):v=_+v,v}})},d92d:function(t,e,s){},e83a:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popular"},[s("div",{staticClass:"popular__container"},[s("div",{staticClass:"popular__title"},[t._v(" Popular ")]),t.isLoading?s("Spinner"):t._e(),s("div",{staticClass:"popular__user-list"},t._l(t.popular,(function(e){return s("router-link",{key:e.id,staticClass:"popular__user-list__list",attrs:{to:{name:"UserAllTweets",params:{user_id:e.id}}}},[s("div",{staticClass:"popular__user-list__avatar",style:{backgroundImage:"url("+e.avatar+")"}}),s("div",{staticClass:"popular__user-list__info"},[s("div",{staticClass:"popular__user-list__name"},[t._v(t._s(e.name))]),s("div",{staticClass:"popular__user-list__account"},[t._v(" "+t._s(t._f("altFilter")(e.account))+" ")])]),s("ButtonFollow",{attrs:{user:e,userId:e.id}})],1)})),1)],1),s("p",{staticClass:"more"},[t._v("© 2021 WAHP")])])},i=[],r=s("1da1"),a=(s("96cf"),s("4cce")),o=s("2708"),c=s("2375"),l=s("907e"),u={name:"UserPopularTop.vue",components:{Spinner:c["a"],ButtonFollow:l["a"]},mixins:[o["b"],o["a"]],data:function(){return{isLoading:!0,userIsFollowing:!1}},computed:{popular:function(){return this.$store.getters.getPopular}},created:function(){this.fetchPopularUsers()},methods:{fetchPopularUsers:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a["a"].getPopularUsers();case 3:s=e.sent,n=s.data,t.$store.dispatch("handleSetPopular",n),t.isLoading=!1,e.next=15;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),i="",i=e.t0.response?e.t0.response.data.message:e.t0.message,t.ToastError({title:"PopularTop讀取失敗！",description:i});case 15:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},d=u,p=(s("b439"),s("2877")),h=Object(p["a"])(d,n,i,!1,null,"15bbfa54",null);e["a"]=h.exports},e85f:function(t,e,s){"use strict";s("9be1")},f221:function(t,e,s){}}]);
//# sourceMappingURL=chunk-b93c2282.fb5b442e.js.map