(function(e){function t(t){for(var r,o,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},s={app:0},a=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0342d609":"b8e6e825","chunk-03b509ea":"d0f52917","chunk-58e6f1be":"f09a2955","chunk-2fe1aa90":"a0341851","chunk-6c819f35":"5bdb4f4c","chunk-3e0d1b97":"d76dbf5e","chunk-04ec5bc8":"ec69668e","chunk-70af6f59":"4a807da4","chunk-7b6da294":"43ad235c","chunk-d734ea22":"899198f6","chunk-6387bd56":"a05cdc1a","chunk-7d3999bf":"d2a53dc3","chunk-7f2875a3":"d742ec78","chunk-80f08d94":"24fc8cc6","chunk-cc8a0fa0":"d92704c8","chunk-da809ee8":"c821186b","chunk-dc3c3b40":"0c9f4a16","chunk-dc516d94":"37c35eee","chunk-6df90ee0":"7505a1d3","chunk-d3d1f226":"82e9d227","chunk-dcbd9d02":"646dcadf","chunk-dd7e5bd2":"aeb78646","chunk-2b80ea3d":"a2d27d64","chunk-db44cb4c":"9749470d"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0342d609":1,"chunk-03b509ea":1,"chunk-58e6f1be":1,"chunk-2fe1aa90":1,"chunk-6c819f35":1,"chunk-3e0d1b97":1,"chunk-04ec5bc8":1,"chunk-70af6f59":1,"chunk-7b6da294":1,"chunk-d734ea22":1,"chunk-6387bd56":1,"chunk-7d3999bf":1,"chunk-7f2875a3":1,"chunk-80f08d94":1,"chunk-cc8a0fa0":1,"chunk-da809ee8":1,"chunk-dc3c3b40":1,"chunk-dc516d94":1,"chunk-6df90ee0":1,"chunk-d3d1f226":1,"chunk-dcbd9d02":1,"chunk-dd7e5bd2":1,"chunk-2b80ea3d":1,"chunk-db44cb4c":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0342d609":"7cb0e385","chunk-03b509ea":"116d2db6","chunk-58e6f1be":"637972b7","chunk-2fe1aa90":"35f1f1af","chunk-6c819f35":"94437e1e","chunk-3e0d1b97":"5617750a","chunk-04ec5bc8":"75a375cb","chunk-70af6f59":"9baefe58","chunk-7b6da294":"5b7e76d6","chunk-d734ea22":"b2dbe408","chunk-6387bd56":"a0870624","chunk-7d3999bf":"7b8d7af5","chunk-7f2875a3":"851a0468","chunk-80f08d94":"76b3a68b","chunk-cc8a0fa0":"6e62f5c2","chunk-da809ee8":"ce80adf1","chunk-dc3c3b40":"fb6ab12f","chunk-dc516d94":"fbfa6933","chunk-6df90ee0":"e2961d9f","chunk-d3d1f226":"ff3a9bc3","chunk-dcbd9d02":"6087cdf5","chunk-dd7e5bd2":"a26b458d","chunk-2b80ea3d":"4d3bf1ef","chunk-db44cb4c":"44c6f500"}[e]+".css",s=i.p+r,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===s))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===r||l===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||s,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],f.parentNode.removeChild(f),n(a)},f.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){o[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}s[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/simple-twitter-frontend/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"20d5":function(e,t,n){},"2fa3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n("2909"),o=(n("d3b7"),n("caad"),n("2532"),n("4e82"),n("bc3a")),s=n.n(o),a=n("5a0c"),c=n.n(a),i="https://wahp-simeple-twitter-api.herokuapp.com/api",u=s.a.create({baseURL:i,timeout:3e4});u.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["Authorization"]="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){return e}),(function(e){return e.message.includes("timeout")?(console.log("網路超時",e),alert("網路超時，請稍後在試"),Promise.reject(e)):Promise.reject(e)}));var l=u,d={ASC:"ASC",DESC:"DESC",createdAt:function(e,t){var n=[];switch(t){case d.ASC:n=Object(r["a"])(e).sort((function(e,t){return c()(e.createdAt).unix()-c()(t.createdAt).unix()}));break;case d.DESC:n=Object(r["a"])(e).sort((function(e,t){return c()(t.createdAt).unix()-c()(e.createdAt).unix()}));break;default:n=e;break}return n}}},"2fb4":function(e,t,n){},"3c44":function(e,t,n){e.exports=n.p+"img/toast_success.000d4c5c.svg"},"4cce":function(e,t,n){"use strict";n("b0c0"),n("a4d3"),n("e01a");var r=n("2fa3");t["a"]={getCurrentUser:function(){return r["a"].get("/users/current_user")},signUp:function(e){var t=e.account,n=e.name,o=e.email,s=e.password,a=e.checkPassword;return r["a"].post("/users",{account:t,name:n,email:o,password:s,checkPassword:a})},getUser:function(e){var t=e.userId;return r["a"].get("/users/".concat(t))},setting:function(e){var t=e.userId,n=e.requestData;return r["a"].put("/users/".concat(t),n)},getPopularUsers:function(){return r["a"].get("/users/top")},getUserFollowing:function(e){var t=e.userId;return r["a"].get("/users/".concat(t,"/followings"))},getUserFollower:function(e){var t=e.userId;return r["a"].get("/users/".concat(t,"/followers"))},getUserTweets:function(e){var t=e.userId;return r["a"].get("/users/".concat(t,"/tweets"))},getUserReplies:function(e){var t=e.userId;return r["a"].get("/users/".concat(t,"/replied_tweets"))},getUserLikes:function(e){var t=e.userId;return r["a"].get("/users/".concat(t,"/likes"))},editUserProfile:function(e){var t=e.userId,n=e.formData;return r["a"].put("/users/".concat(t),n)},addFollowShip:function(e){var t=e.id;return r["a"].post("/followships",{id:t})},removeFollowShip:function(e){var t=e.userId;return r["a"].delete("/followships/".concat(t))},tweets:{get:function(){return r["a"].get("/tweets")},like:function(e){var t=e.tweetId;return r["a"].post("/tweets/".concat(t,"/like"))},unlike:function(e){var t=e.tweetId;return r["a"].post("/tweets/".concat(t,"/unlike"))},newPost:function(e){var t=e.description;return r["a"].post("/tweets",{description:t})},newReply:function(e){var t=e.tweetId,n=e.comment;return r["a"].post("/tweets/".concat(t,"/replies"),{comment:n})},getDetail:function(e){var t=e.tweetId;return r["a"].get("/tweets/".concat(t))}},messages:{getPublicAll:function(){return r["a"].get("/messages/5")},getPrivateAll:function(e){var t=e.RoomId;return r["a"].get("/messages/".concat(t))},getPrivateRoom:function(){return r["a"].get("/messages/latest_messages")}}}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],a=(n("5c0b"),n("2877")),c={},i=Object(a["a"])(c,o,s,!1,null,null,null),u=i.exports,l=n("1da1"),d=(n("96cf"),n("d3b7"),n("b0c0"),n("caad"),n("2532"),n("3ca3"),n("ddb0"),n("8c4f")),f=n("2f62"),p={token:"",currentUser:{id:-1,account:"",name:"",email:"",avatar:"",cover:"",introduction:"",role:"",followings:[],followers:[]},viewUser:{data:{id:-1,TweetsCount:0,FollowersCount:0,FollowingsCount:0,isFollowed:!1},isLoading:!1,isViewCurrentUser:!1,followings:[],followers:[]},followingUsers:[],popular:[],isAuthenticated:!1,isNewPostModalOpen:!1,isNewPostRefresh:!1,replyDetail:{},isReplyModalOpen:!1,isReplyRefresh:!1,publicUsers:[],publicUnreadMessage:!1,publicAllMessages:[],privateRooms:[],privateUnreadMessageCount:0,privateAllMessages:[]},h=n("5530"),m=(n("d81d"),n("4cce")),b=n("2fa3"),g={fetchCurrentUser:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,o,s,a,c,i,u,l,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,m["a"].getCurrentUser();case 4:return r=t.sent,o=r.data,s=o.id,a=o.account,c=o.name,i=o.email,u=o.avatar,l=o.cover,d=o.introduction,f=o.role,n("setCurrentUser",{id:s,account:a,name:c,email:i,avatar:u,cover:l,introduction:d,role:f}),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t["catch"](1),console.log("error",t.t0),console.log("error",t.t0.message),console.log("取得當前使用者失敗"),n("revokeAuthentication"),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[1,11]])})))()},fetchViewUserFollowings:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.state.viewUser.isLoading=!0,n=E.currentRoute.params.user_id,r=n,t.next=6,m["a"].getUserFollowing({userId:r});case 6:o=t.sent,s=o.data,e.commit("setViewUserFollowings",s),e.state.viewUser.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log("error",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},fetchViewUserFollowers:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.state.viewUser.isLoading=!0,n=E.currentRoute.params.user_id,r=n,t.next=6,m["a"].getUserFollower({userId:r});case 6:o=t.sent,s=o.data,e.commit("setViewUserFollowers",s),e.state.viewUser.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log("error",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},handleInitViewUser:function(e,t){e.commit("setInitViewUser",t)},isViewCurrentUser:function(e,t){e.commit("setIsViewCurrentUser",t)},handleSetFollowed:function(e,t){e.commit("setFollowed",t)},handleSetPopular:function(e,t){e.commit("setPopular",t)},handleSetViewUserFollowings:function(e,t){e.commit("setViewUserFollowings",t)},handleSetViewUserFollowers:function(e,t){e.commit("setViewUserFollowers",t)},isNewPostModalOpen:function(e,t){e.commit("setIsNewPostModalOpen",t)},isNewPostRefresh:function(e,t){e.commit("setIsNewPostRefresh",t)},handleSetReplyDetail:function(e,t){e.commit("setReplyDetail",t)},isReplyModalOpen:function(e,t){e.commit("setIsReplyModalOpen",t),t||e.commit("setReplyDetail",{})},isReplyRefresh:function(e,t){e.commit("setIsReplyRefresh",t)},setPublicAllMessages:function(e,t){e.commit("setPublicAllMessages",t)},setPrivateRooms:function(e,t){var n=b["b"].createdAt(t,b["b"].DESC);e.commit("setPrivateRooms",n)},setPrivateAllMessages:function(e,t){e.commit("setPrivateAllMessages",t)},SOCKET_publicUsers:function(e,t){e.commit("setPublicUsers",t)},SOCKET_announce:function(e,t){e.commit("pushPublicAllMessages",Object(h["a"])(Object(h["a"])({},t),{},{isPill:!0}))},SOCKET_publicMessage:function(e,t){e.commit("pushPublicAllMessages",t)},SOCKET_privateMessage:function(e,t){e.commit("pushPrivateAllMessages",t);var n=e.state.privateRooms.map((function(e){return e.RoomId===t.RoomId?Object(h["a"])(Object(h["a"])({},e),{},{createdAt:t.createdAt,content:t.content}):e}));e.dispatch("setPrivateRooms",n)},SOCKET_unReadMessage:function(e,t){e.commit("setPrivateUnreadMessageCount",t.privateUnreadMessageCount)},SOCKET_publicUnreadMessage:function(e,t){e.commit("setPublicUnreadMessage",t.hasUnreadPublicMessage)}},w=n("2909"),v=(n("a9e3"),n("159b"),{setCurrentUser:function(e,t){e.currentUser=Object(h["a"])(Object(h["a"])({},e.currentUser),t),e.token=localStorage.getItem("token"),e.isAuthenticated=!0},revokeAuthentication:function(e){r["a"].prototype.$socket.connected&&("PublicRoom"===E.currentRoute.name?r["a"].prototype.$socket.emit("leavePublicRoom"):"Private"!==E.currentRoute.name&&"PrivateRoom"!==E.currentRoute.name||r["a"].prototype.$socket.emit("leavePrivateRoom"),r["a"].prototype.$socket.disconnect(),r["a"].prototype.$socket.auth.token=""),e.currentUser={},e.isAuthenticated=!1,e.token="",localStorage.removeItem("token"),e.publicUsers=[],e.publicUnreadMessage=!1,e.publicAllMessages=[],e.privateRooms=[],e.privateUnreadMessageCount=0,e.privateAllMessages=[]},setInitViewUser:function(e,t){e.viewUser.data=Object(h["a"])(Object(h["a"])({},e.viewUser.data),t)},setIsViewCurrentUser:function(e,t){e.currentUser.id===Number(t)?e.viewUser.isViewCurrentUser=!0:e.viewUser.isViewCurrentUser=!1},setFollowed:function(e,t){e.viewUser.data.id===t&&(e.viewUser.data.isFollowed=!e.viewUser.data.isFollowed,e.viewUser.data.isFollowed?e.viewUser.data.FollowersCount++:e.viewUser.data.FollowersCount--),e.popular.forEach((function(n){n.id===Number(t)&&(n.isFollowed=!n.isFollowed,e.viewUser.isViewCurrentUser&&(n.isFollowed?e.viewUser.data.FollowingsCount++:e.viewUser.data.FollowingsCount--))})),e.viewUser.followings.forEach((function(e){e.followingId===Number(t)&&(e.isFollowed=!e.isFollowed)})),e.viewUser.followers.forEach((function(e){e.followerId===Number(t)&&(e.isFollowed=!e.isFollowed)}))},setPopular:function(e,t){e.popular=t},setViewUserFollowings:function(e,t){e.viewUser.followings=t},setViewUserFollowers:function(e,t){e.viewUser.followers=t},setIsNewPostModalOpen:function(e,t){e.isNewPostModalOpen=t},setIsNewPostRefresh:function(e,t){e.isNewPostRefresh=t},setReplyDetail:function(e,t){e.replyDetail=t},setIsReplyModalOpen:function(e,t){e.isReplyModalOpen=t},setIsReplyRefresh:function(e,t){e.isReplyRefresh=t},setPublicUnreadMessage:function(e,t){e.publicUnreadMessage=t},setPublicAllMessages:function(e,t){e.publicAllMessages=Object(w["a"])(t)},pushPublicAllMessages:function(e,t){e.publicAllMessages.push(t)},setPrivateRooms:function(e,t){e.privateRooms=t},setPublicUsers:function(e,t){e.publicUsers=Object(w["a"])(t)},setPrivateUnreadMessageCount:function(e,t){e.privateUnreadMessageCount=t},setPrivateAllMessages:function(e,t){e.privateAllMessages=Object(w["a"])(t)},pushPrivateAllMessages:function(e,t){e.privateAllMessages.push(t)}}),k={getCurrentUser:function(e){return e.currentUser},getViewUser:function(e){return e.viewUser},getPopular:function(e){return e.popular}};r["a"].use(f["a"]);var U=new f["a"].Store({state:p,actions:g,mutations:v,getters:k,modules:{}}),P=n("d9cb");r["a"].use(d["a"]);var _=d["a"].prototype.push;d["a"].prototype.push=function(e){var t=this;return new Promise((function(n,r){_.call(t,e,(function(){n(t.currentRoute)}),(function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")?n(t.currentRoute):r(e)}))}))};var R=function(e,t,n,o){var s=U.state.currentUser;if(s&&s.role!==o)return r["a"].$toast({component:P["a"],props:{icon:"error",title:"權限不足，無法訪問！",description:""}}),void n(t);n()},A=function(e,t,n){R(e,t,n,"user")},y=function(e,t,n){R(e,t,n,"admin")},C=[{path:"/",beforeEnter:function(e,t,n){var r=U.state.currentUser;r&&"admin"===r.role?n("/admin/login"):n("/user/login")}},{path:"/admin/login",name:"AdminLogin",component:function(){return Promise.all([n.e("chunk-dd7e5bd2"),n.e("chunk-db44cb4c")]).then(n.bind(null,"5b4f"))}},{path:"/admin",name:"Admin",redirect:"/admin/tweets",component:function(){return Promise.all([n.e("chunk-6c819f35"),n.e("chunk-3e0d1b97")]).then(n.bind(null,"3530"))},children:[{path:"tweets",name:"AdminAllTweets",component:function(){return n.e("chunk-03b509ea").then(n.bind(null,"83b6"))},beforeEnter:y},{path:"users",name:"AdminAllUsers",component:function(){return n.e("chunk-7d3999bf").then(n.bind(null,"b138"))},beforeEnter:y}]},{path:"/user/login",name:"UserLogin",component:function(){return Promise.all([n.e("chunk-dd7e5bd2"),n.e("chunk-2b80ea3d")]).then(n.bind(null,"2818"))}},{path:"/user/register",name:"UserRegister",component:function(){return Promise.all([n.e("chunk-7b6da294"),n.e("chunk-6387bd56")]).then(n.bind(null,"381a"))}},{path:"/user/setting",name:"UserSetting",component:function(){return Promise.all([n.e("chunk-6c819f35"),n.e("chunk-7b6da294"),n.e("chunk-d734ea22")]).then(n.bind(null,"0b7d"))},beforeEnter:A},{path:"/user/chat",name:"Chat",redirect:"/user/chat/private",component:function(){return Promise.all([n.e("chunk-6c819f35"),n.e("chunk-70af6f59")]).then(n.bind(null,"ca5d"))},children:[{path:"/user/chat/public",name:"PublicRoom",component:function(){return Promise.all([n.e("chunk-dc516d94"),n.e("chunk-d3d1f226")]).then(n.bind(null,"8ed0"))},beforeEnter:A},{path:"/user/chat/private",name:"Private",redirect:"/user/chat/private/0",beforeEnter:A},{path:"/user/chat/private/:room_id",name:"PrivateRoom",component:function(){return Promise.all([n.e("chunk-dc516d94"),n.e("chunk-6df90ee0")]).then(n.bind(null,"caa1"))},beforeEnter:A}]},{path:"/user",name:"User",redirect:"/user/home",component:function(){return Promise.all([n.e("chunk-6c819f35"),n.e("chunk-58e6f1be"),n.e("chunk-04ec5bc8")]).then(n.bind(null,"1511"))},children:[{path:"/user/home",name:"UserHome",component:function(){return n.e("chunk-cc8a0fa0").then(n.bind(null,"4c92"))},beforeEnter:A},{path:"/user/:user_id",name:"UserInfo",redirect:"/user/:user_id/tweets",component:function(){return Promise.all([n.e("chunk-58e6f1be"),n.e("chunk-2fe1aa90")]).then(n.bind(null,"2861"))},beforeEnter:A,children:[{path:"tweets",name:"UserAllTweets",component:function(){return n.e("chunk-80f08d94").then(n.bind(null,"898a"))},beforeEnter:A},{path:"replies",name:"UserAllReplies",component:function(){return n.e("chunk-0342d609").then(n.bind(null,"52ab"))},beforeEnter:A},{path:"like",name:"UserAllLike",component:function(){return n.e("chunk-dcbd9d02").then(n.bind(null,"3bd1"))},beforeEnter:A}]},{path:"/user/:user_id",name:"UserAllFollow",component:function(){return n.e("chunk-da809ee8").then(n.bind(null,"4edb"))},beforeEnter:A,children:[{path:"followings",name:"UserFollowings",component:function(){return n.e("chunk-7f2875a3").then(n.bind(null,"d5dd"))},beforeEnter:A},{path:"followers",name:"UserFollowers",component:function(){return n.e("chunk-7f2875a3").then(n.bind(null,"d5dd"))},beforeEnter:A}]},{path:"/user/tweets/:tweet_id",name:"UserTweetDetail",component:function(){return n.e("chunk-dc3c3b40").then(n.bind(null,"d9e9"))},beforeEnter:A}]}],O=new d["a"]({routes:C});O.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,s,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=localStorage.getItem("token"),s=U.state.token,a=U.state.isAuthenticated,!o||o===s){e.next=7;break}return e.next=6,U.dispatch("fetchCurrentUser");case 6:a=e.sent;case 7:if(c=["UserLogin","UserRegister","AdminLogin"],a||c.includes(t.name)){e.next=16;break}e.t0=t.name,e.next="AdminAllTweets"===e.t0||"AdminAllUsers"===e.t0?12:14;break;case 12:return r("/admin/login"),e.abrupt("break",15);case 14:r("/user/login");case 15:return e.abrupt("return");case 16:if(!a||!c.includes(t.name)){e.next=24;break}e.t1=t.name,e.next="AdminLogin"===e.t1?20:22;break;case 20:return r("/admin"),e.abrupt("break",23);case 22:r("/user");case 23:return e.abrupt("return");case 24:a&&M(),r();case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var M=function(){r["a"].prototype.$socket.connected||"user"===U.state.currentUser.role&&(r["a"].prototype.$socket.auth.token=U.state.token,r["a"].prototype.$socket.connect())},E=O,F=n("5132"),I=n.n(F),S=n("8e27"),j=n.n(S),x=n("6c42"),T=(n("da96"),n("2fb4"),{auth:{token:""},autoConnect:!1});r["a"].use(new I.a({debug:!1,connection:j()("https://wahp-simeple-twitter-api.herokuapp.com",T),vuex:{store:U,actionPrefix:"SOCKET_"}}));var N={position:"top-right",timeout:2e3,closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,closeButton:!1,icon:!1,transition:"Vue-Toastification__fade",maxToasts:20,newestOnTop:!1,toastClassName:"custom-toast",bodyClassName:["custom-class-body"]};r["a"].use(x["a"],N),r["a"].config.productionTip=!1,new r["a"]({router:E,store:U,render:function(e){return e(u)},sockets:{disconnect:function(e){"io server disconnect"===e&&this.$socket.connect()}}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){},"9e26":function(e,t,n){"use strict";n("20d5")},b993:function(e,t,n){e.exports=n.p+"img/toast_error.398fd1bb.svg"},d9cb:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toast__wrapper"},[r("div",{staticClass:"toast__wrapper__content"},[r("div",{staticClass:"toast__wrapper__title"},[e._v(e._s(e.title))]),"success"===e.icon?r("div",{staticClass:"toast__wrapper__description--success"},[e._v(" "+e._s(e.description)+" ")]):e._e(),"error"===e.icon?r("div",{staticClass:"toast__wrapper__description--error"},[e._v(" "+e._s(e.description)+" ")]):e._e()]),r("div",{staticClass:"toast__wrapper__icon"},["success"===e.icon?r("img",{attrs:{src:n("3c44"),alt:"success_icon"}}):e._e(),"error"===e.icon?r("img",{attrs:{src:n("b993"),alt:"error_icon"}}):e._e()])])},o=[],s={name:"CustomToast",props:{icon:{type:String,require:!0},title:{type:String,default:""},description:{type:String,default:""}}},a=s,c=(n("9e26"),n("2877")),i=Object(c["a"])(a,r,o,!1,null,"aa6d2e28",null);t["a"]=i.exports}});
//# sourceMappingURL=app.81e16683.js.map