(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6571d83a"],{"147d":function(t,e,a){"use strict";a("5359")},"381a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"title"},[t._v("建立你的帳號")]),a("section",{staticClass:"section-form"},[a("AccountForm",{attrs:{"init-is-processing":t.isProcessing},on:{"after-submit":t.handleAfterSubmit}})],1)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:a("e347"),alt:"logo"}})])}],s=a("1da1"),o=(a("96cf"),a("9787")),i=a("4cce"),c=a("2fa3"),l={name:"UserRegister",components:{AccountForm:o["a"]},data:function(){return{isProcessing:!1}},methods:{handleAfterSubmit:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.isProcessing=!0,console.log("requestData",t),a.next=5,i["a"].signUp(t);case 5:if(n=a.sent,r=n.data,"success"===r.status){a.next=9;break}throw new Error(r.message);case 9:c["a"].fire({icon:"success",title:"帳號註冊成功！\n ".concat(r.message)}),e.$router.push({name:"UserLogin"}),a.next=19;break;case 13:a.prev=13,a.t0=a["catch"](0),e.isProcessing=!1,s="",a.t0.response?(console.log(a.t0.response.data),s=a.t0.response.data.message):(console.log(a.t0),s=a.t0.message),c["a"].fire({icon:"error",title:"帳號註冊失敗！\n ".concat(s)});case 19:case"end":return a.stop()}}),a,null,[[0,13]])})))()}}},u=l,m=(a("147d"),a("2877")),d=Object(m["a"])(u,n,r,!1,null,"5ebec072",null);e["default"]=d.exports},"4df4":function(t,e,a){"use strict";var n=a("0366"),r=a("7b0b"),s=a("9bdd"),o=a("e95a"),i=a("50c4"),c=a("8418"),l=a("9a1f"),u=a("35a1");t.exports=function(t){var e,a,m,d,f,p,h=r(t),g="function"==typeof this?this:Array,_=arguments.length,v=_>1?arguments[1]:void 0,w=void 0!==v,b=u(h),y=0;if(w&&(v=n(v,_>2?arguments[2]:void 0,2)),void 0==b||g==Array&&o(b))for(e=i(h.length),a=new g(e);e>y;y++)p=w?v(h[y],y):h[y],c(a,y,p);else for(d=l(h,b),f=d.next,a=new g;!(m=f.call(d)).done;y++)p=w?s(d,v,[m.value,y],!0):m.value,c(a,y,p);return a.length=y,a}},5359:function(t,e,a){},"6d71":function(t,e,a){},9787:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form__account"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form__account__input",attrs:{id:"account",name:"account",type:"text",pattern:"[a-zA-Z0-9_]+",maxlength:t.accountMaxLength,required:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),a("label",{staticClass:"form__account__label",attrs:{for:"form__account__input"}},[t._v(" 帳號 ")])]),a("div",{staticClass:"form__name"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form__name__input",attrs:{id:"name",name:"name",type:"text",maxlength:t.nameMaxLength,required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("label",{staticClass:"form__name__label",attrs:{for:"form__name__input"}},[t._v(" 名稱 ")])]),a("div",{staticClass:"form__email"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form__email__input",attrs:{id:"email",name:"email",type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{staticClass:"form__email__label",attrs:{for:"form__email__input"}},[t._v(" Email ")])]),a("div",{staticClass:"form__password"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form__password__input",attrs:{id:"password",name:"password",type:"password",minlength:t.passwordMinLength,maxlength:t.passwordMaxLength,required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("label",{staticClass:"form__password__label",attrs:{for:"form__password__input"}},[t._v(" 密碼 ")])]),a("div",{staticClass:"form__checkPassword"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],staticClass:"form__checkPassword__input",attrs:{id:"checkPassword",name:"checkPassword",type:"password",minlength:t.passwordMinLength,maxlength:t.passwordMaxLength,required:""},domProps:{value:t.checkPassword},on:{input:function(e){e.target.composing||(t.checkPassword=e.target.value)}}}),a("label",{staticClass:"form__checkPassword__label",attrs:{for:"form__checkPassword__input"}},[t._v(" 密碼確認 ")])]),"UserRegister"===t.$route.name?[a("button",{staticClass:"form__submit",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 註冊 ")]),a("router-link",{staticClass:"form__cancel-link",attrs:{to:"/user/login"}},[t._v(" 取消 ")])]:a("div",{staticClass:"form__submit__wrapper"},[a("button",{staticClass:"form__submit form__submit--setting",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 儲存 ")])])],2)},r=[];function s(t){if(Array.isArray(t))return t}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function o(t,e){var a=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,r,s=[],o=!0,i=!1;try{for(a=a.call(t);!(o=(n=a.next()).done);o=!0)if(s.push(n.value),e&&s.length===e)break}catch(c){i=!0,r=c}finally{try{o||null==a["return"]||a["return"]()}finally{if(i)throw r}}return s}}a("fb6a"),a("b0c0"),a("a630");function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function c(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){return s(t)||o(t,e)||c(t,e)||l()}function m(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=c(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){i=!0,s=t},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(i)throw s}}}}var d=a("2fa3"),f={name:"AccountForm",props:{initIsProcessing:{type:Boolean,default:!1},initAccount:{type:String,default:""},initName:{type:String,default:""},initEmail:{type:String,default:""}},data:function(){return{account:this.initAccount,name:this.initName,email:this.initEmail,password:"",checkPassword:"",accountMaxLength:50,nameMaxLength:50,passwordMinLength:4,passwordMaxLength:50,isProcessing:!1}},watch:{initIsProcessing:function(){this.isProcessing=this.initIsProcessing}},methods:{formValidation:function(){var t="";return this.account&&this.name&&this.email&&this.password&&this.checkPassword?this.account.length>this.accountMaxLength?(this.account="",t="帳號上限 ".concat(this.accountMaxLength," 字")):this.name.length>this.nameMaxLength?(this.name="",t="名稱上限 ".concat(this.nameMaxLength," 字")):this.password.length>this.passwordMaxLength?(this.password="",this.checkPassword="",t="密碼上限 ".concat(this.passwordMaxLength," 字")):this.password.length<this.passwordMinLength?(this.password="",this.checkPassword="",t="密碼至少 ".concat(this.passwordMinLength," 個字")):this.password!==this.checkPassword&&(this.checkPassword="",t="密碼輸入不一致"):t="請填寫所有資料",0===t.length||(d["a"].fire({icon:"warning",title:t}),!1)},handleSubmit:function(t){if(this.formValidation()){this.isProcessing=!0;var e,a=new FormData(t.target),n={},r=m(a.entries());try{for(r.s();!(e=r.n()).done;){var s=u(e.value,2),o=s[0],i=s[1];n[o]=i}}catch(c){r.e(c)}finally{r.f()}this.$emit("after-submit",n)}}}},p=f,h=(a("c93a"),a("2877")),g=Object(h["a"])(p,n,r,!1,null,"5c137942",null);e["a"]=g.exports},"9bdd":function(t,e,a){var n=a("825a"),r=a("2a62");t.exports=function(t,e,a,s){try{return s?e(n(a)[0],a[1]):e(a)}catch(o){r(t,"throw",o)}}},a630:function(t,e,a){var n=a("23e7"),r=a("4df4"),s=a("1c7e"),o=!s((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:r})},c93a:function(t,e,a){"use strict";a("6d71")},d28b:function(t,e,a){var n=a("746f");n("iterator")},e347:function(t,e,a){t.exports=a.p+"img/logo.daa01464.svg"},fb6a:function(t,e,a){"use strict";var n=a("23e7"),r=a("861d"),s=a("e8b5"),o=a("23cb"),i=a("50c4"),c=a("fc6a"),l=a("8418"),u=a("b622"),m=a("1dde"),d=m("slice"),f=u("species"),p=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var a,n,u,m=c(this),d=i(m.length),g=o(t,d),_=o(void 0===e?d:e,d);if(s(m)&&(a=m.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?r(a)&&(a=a[f],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return p.call(m,g,_);for(n=new(void 0===a?Array:a)(h(_-g,0)),u=0;g<_;g++,u++)g in m&&l(n,u,m[g]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-6571d83a.cd8f950b.js.map