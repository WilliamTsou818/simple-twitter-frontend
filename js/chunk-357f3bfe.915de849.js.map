{"version":3,"sources":["webpack:///./src/components/AccountForm.vue?08c6","webpack:///./src/components/AccountForm.vue?8cfa","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///src/components/AccountForm.vue","webpack:///./src/components/AccountForm.vue?56f6","webpack:///./src/components/AccountForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","stopPropagation","handleSubmit","apply","arguments","directives","name","rawName","value","expression","attrs","domProps","target","composing","account","class","error","accountTip","length","_v","_s","accountLength","accountMaxLength","nameTip","nameLength","nameMaxLength","email","emailTip","password","passwordTip","passwordLength","passwordMaxLength","checkPassword","checkPasswordTip","$route","isProcessing","staticRenderFns","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_e","_arr","_n","_d","call","next","done","push","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","e","f","normalCompletion","didErr","step","_e2","mixins","props","page","type","String","default","initAccount","initName","initEmail","data","passwordMinLength","regex","computed","watch","methods","formValidation","ToastError","title","handleSignUpSubmit","requestData","handleSettingSubmit","handleError","messageArr","forEach","message","includes","description","errorData","errType","component"],"mappings":"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","file":"js/chunk-357f3bfe.915de849.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=style&index=0&id=aad6ff76&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form\",on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form__account\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],staticClass:\"form__account__input\",attrs:{\"id\":\"account\",\"name\":\"account\",\"type\":\"text\",\"pattern\":\"[a-zA-Z0-9_]+\",\"required\":\"\"},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.account=$event.target.value}}}),_c('div',{class:['form__account__border', { error: _vm.accountTip.length > 0 }]}),_c('label',{staticClass:\"form__account__label\",attrs:{\"for\":\"form__account__input\"}},[_vm._v(\" 帳號 \")]),_c('span',{staticClass:\"form__account__tip\"},[_vm._v(_vm._s(_vm.accountTip))]),_c('span',{class:[\n        'form__account__length',\n        { error: _vm.accountLength > _vm.accountMaxLength } ]},[_vm._v(\" \"+_vm._s(_vm.accountLength)+\" / \"+_vm._s(_vm.accountMaxLength)+\" \")])]),_c('div',{staticClass:\"form__name\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form__name__input\",attrs:{\"id\":\"name\",\"name\":\"name\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('div',{class:['form__name__border', { error: _vm.nameTip.length > 0 }]}),_c('label',{staticClass:\"form__name__label\",attrs:{\"for\":\"form__name__input\"}},[_vm._v(\" 名稱 \")]),_c('span',{staticClass:\"form__name__tip\"},[_vm._v(_vm._s(_vm.nameTip))]),_c('span',{class:['form__name__length', { error: _vm.nameLength > _vm.nameMaxLength }]},[_vm._v(\" \"+_vm._s(_vm.nameLength)+\" / \"+_vm._s(_vm.nameMaxLength)+\" \")])]),_c('div',{staticClass:\"form__email\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form__email__input\",attrs:{\"id\":\"email\",\"name\":\"email\",\"type\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_c('div',{class:['form__email__border', { error: _vm.emailTip.length > 0 }]}),_c('label',{staticClass:\"form__email__label\",attrs:{\"for\":\"form__email__input\"}},[_vm._v(\" Email \")]),_c('span',{staticClass:\"form__email__tip\"},[_vm._v(_vm._s(_vm.emailTip))])]),_c('div',{staticClass:\"form__password\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form__password__input\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('div',{class:['form__password__border', { error: _vm.passwordTip.length > 0 }]}),_c('label',{staticClass:\"form__password__label\",attrs:{\"for\":\"form__password__input\"}},[_vm._v(\" 密碼 \")]),_c('span',{staticClass:\"form__password__tip\"},[_vm._v(_vm._s(_vm.passwordTip))]),_c('span',{class:[\n        'form__password__length',\n        { error: _vm.passwordLength > _vm.passwordMaxLength } ]},[_vm._v(\" \"+_vm._s(_vm.passwordLength)+\" / \"+_vm._s(_vm.passwordMaxLength)+\" \")])]),_c('div',{staticClass:\"form__checkPassword\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkPassword),expression:\"checkPassword\"}],staticClass:\"form__checkPassword__input\",attrs:{\"id\":\"checkPassword\",\"name\":\"checkPassword\",\"type\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.checkPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.checkPassword=$event.target.value}}}),_c('div',{class:[\n        'form__checkPassword__border',\n        { error: _vm.checkPasswordTip.length > 0 } ]}),_c('label',{staticClass:\"form__checkPassword__label\",attrs:{\"for\":\"form__checkPassword__input\"}},[_vm._v(\" 密碼確認 \")]),_c('span',{staticClass:\"form__checkPassword__tip\"},[_vm._v(_vm._s(_vm.checkPasswordTip))])]),(_vm.$route.name === 'UserRegister')?[_c('button',{staticClass:\"form__submit\",attrs:{\"type\":\"submit\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isProcessing),expression:\"!isProcessing\"}]},[_vm._v(\"註冊\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isProcessing),expression:\"isProcessing\"}],staticClass:\"form__submit__spinner\"})]),_c('router-link',{staticClass:\"form__cancel-link\",attrs:{\"to\":\"/user/login\"}},[_vm._v(\" 取消 \")])]:_c('div',{staticClass:\"form__submit__wrapper\"},[_c('button',{staticClass:\"form__submit form__submit--setting\",attrs:{\"type\":\"submit\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isProcessing),expression:\"!isProcessing\"}]},[_vm._v(\"儲存\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isProcessing),expression:\"isProcessing\"}],staticClass:\"form__submit__spinner\"})])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","<template>\r\n  <form class=\"form\" @submit.prevent.stop=\"handleSubmit\">\r\n    <div class=\"form__account\">\r\n      <input\r\n        class=\"form__account__input\"\r\n        v-model=\"account\"\r\n        id=\"account\"\r\n        name=\"account\"\r\n        type=\"text\"\r\n        pattern=\"[a-zA-Z0-9_]+\"\r\n        required\r\n      />\r\n      <div\r\n        :class=\"['form__account__border', { error: accountTip.length > 0 }]\"\r\n      ></div>\r\n      <label for=\"form__account__input\" class=\"form__account__label\">\r\n        帳號\r\n      </label>\r\n      <span class=\"form__account__tip\">{{ accountTip }}</span>\r\n      <span\r\n        :class=\"[\r\n          'form__account__length',\r\n          { error: accountLength > accountMaxLength },\r\n        ]\"\r\n      >\r\n        {{ accountLength }} / {{ accountMaxLength }}\r\n      </span>\r\n    </div>\r\n    <div class=\"form__name\">\r\n      <input\r\n        class=\"form__name__input\"\r\n        v-model=\"name\"\r\n        id=\"name\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        required\r\n      />\r\n      <div :class=\"['form__name__border', { error: nameTip.length > 0 }]\"></div>\r\n      <label for=\"form__name__input\" class=\"form__name__label\">\r\n        名稱\r\n      </label>\r\n      <span class=\"form__name__tip\">{{ nameTip }}</span>\r\n      <span\r\n        :class=\"['form__name__length', { error: nameLength > nameMaxLength }]\"\r\n      >\r\n        {{ nameLength }} / {{ nameMaxLength }}\r\n      </span>\r\n    </div>\r\n    <div class=\"form__email\">\r\n      <input\r\n        class=\"form__email__input\"\r\n        v-model=\"email\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        required\r\n      />\r\n      <div\r\n        :class=\"['form__email__border', { error: emailTip.length > 0 }]\"\r\n      ></div>\r\n      <label for=\"form__email__input\" class=\"form__email__label\">\r\n        Email\r\n      </label>\r\n      <span class=\"form__email__tip\">{{ emailTip }}</span>\r\n    </div>\r\n    <div class=\"form__password\">\r\n      <input\r\n        class=\"form__password__input\"\r\n        v-model=\"password\"\r\n        id=\"password\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        required\r\n      />\r\n      <div\r\n        :class=\"['form__password__border', { error: passwordTip.length > 0 }]\"\r\n      ></div>\r\n      <label for=\"form__password__input\" class=\"form__password__label\">\r\n        密碼\r\n      </label>\r\n      <span class=\"form__password__tip\">{{ passwordTip }}</span>\r\n      <span\r\n        :class=\"[\r\n          'form__password__length',\r\n          { error: passwordLength > passwordMaxLength },\r\n        ]\"\r\n      >\r\n        {{ passwordLength }} / {{ passwordMaxLength }}\r\n      </span>\r\n    </div>\r\n    <div class=\"form__checkPassword\">\r\n      <input\r\n        class=\"form__checkPassword__input\"\r\n        v-model=\"checkPassword\"\r\n        id=\"checkPassword\"\r\n        name=\"checkPassword\"\r\n        type=\"password\"\r\n        required\r\n      />\r\n      <div\r\n        :class=\"[\r\n          'form__checkPassword__border',\r\n          { error: checkPasswordTip.length > 0 },\r\n        ]\"\r\n      ></div>\r\n      <label\r\n        for=\"form__checkPassword__input\"\r\n        class=\"form__checkPassword__label\"\r\n      >\r\n        密碼確認\r\n      </label>\r\n      <span class=\"form__checkPassword__tip\">{{ checkPasswordTip }}</span>\r\n    </div>\r\n    <template v-if=\"$route.name === 'UserRegister'\">\r\n      <button class=\"form__submit\" type=\"submit\">\r\n        <div v-show=\"!isProcessing\">註冊</div>\r\n        <div v-show=\"isProcessing\" class=\"form__submit__spinner\"></div>\r\n      </button>\r\n      <router-link class=\"form__cancel-link\" to=\"/user/login\">\r\n        取消\r\n      </router-link>\r\n    </template>\r\n    <div v-else class=\"form__submit__wrapper\">\r\n      <button class=\"form__submit form__submit--setting\" type=\"submit\">\r\n        <div v-show=\"!isProcessing\">儲存</div>\r\n        <div v-show=\"isProcessing\" class=\"form__submit__spinner\"></div>\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport usersAPI from '@/apis/users'\r\nimport { Toastification } from './../utils/mixins'\r\nexport default {\r\n  name: 'AccountForm',\r\n  mixins: [Toastification],\r\n  props: {\r\n    page: {\r\n      type: String,\r\n      default: 'signUp',\r\n    },\r\n    initAccount: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    initName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    initEmail: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      account: this.initAccount,\r\n      name: this.initName,\r\n      email: this.initEmail,\r\n      password: '',\r\n      checkPassword: '',\r\n      // 字數上限\r\n      accountMaxLength: 50,\r\n      nameMaxLength: 50,\r\n      passwordMinLength: 4,\r\n      passwordMaxLength: 50,\r\n      // 註冊中\r\n      isProcessing: false,\r\n      // 帳號格式\r\n      regex: /^[a-zA-Z0-9_-]+$/,\r\n      // 驗證提示訊息\r\n      accountTip: '',\r\n      nameTip: '',\r\n      emailTip: '',\r\n      passwordTip: '',\r\n      checkPasswordTip: '',\r\n    }\r\n  },\r\n  computed: {\r\n    // 當前字數\r\n    accountLength() {\r\n      return this.account.length\r\n    },\r\n    nameLength() {\r\n      return this.name.length\r\n    },\r\n    passwordLength() {\r\n      return this.password.length\r\n    },\r\n  },\r\n  watch: {\r\n    account() {\r\n      if (!this.account) {\r\n        this.accountTip = '請填寫帳號'\r\n      } else if (this.account.length > this.accountMaxLength) {\r\n        this.accountTip = `帳號上限 ${this.accountMaxLength} 字`\r\n      } else if (!this.regex.test(this.account)) {\r\n        this.accountTip = '帳號只能為英文、數字與_ '\r\n      } else {\r\n        this.accountTip = ''\r\n      }\r\n    },\r\n    name() {\r\n      if (!this.name) {\r\n        this.nameTip = '請填寫名稱'\r\n      } else if (this.name.length > this.nameMaxLength) {\r\n        this.nameTip = `名稱上限 ${this.nameMaxLength} 字`\r\n      } else {\r\n        this.nameTip = ''\r\n      }\r\n    },\r\n    email() {\r\n      if (!this.email) {\r\n        this.emailTip = '請填寫Email'\r\n      } else {\r\n        this.emailTip = ''\r\n      }\r\n    },\r\n    password() {\r\n      if (!this.password) {\r\n        this.passwordTip = '請填寫密碼'\r\n      } else if (this.password.length > this.passwordMaxLength) {\r\n        this.passwordTip = `密碼上限 ${this.passwordMaxLength} 字`\r\n      } else if (this.password.length < this.passwordMinLength) {\r\n        this.passwordTip = `密碼至少 ${this.passwordMinLength} 個字`\r\n      } else {\r\n        this.passwordTip = ''\r\n      }\r\n      if (this.checkPassword.length > 0) {\r\n        this.checkPasswordTip =\r\n          this.password !== this.checkPassword ? '密碼輸入不一致' : ''\r\n      }\r\n    },\r\n    checkPassword() {\r\n      if (!this.checkPassword) {\r\n        this.checkPasswordTip = '請填寫密碼確認'\r\n      } else if (this.password !== this.checkPassword) {\r\n        this.checkPasswordTip = '密碼輸入不一致'\r\n      } else {\r\n        this.checkPasswordTip = ''\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    // 表單驗證\r\n    formValidation() {\r\n      if (\r\n        this.accountTip.length > 0 ||\r\n        this.nameTip.length > 0 ||\r\n        this.emailTip.length > 0 ||\r\n        this.passwordTip.length > 0 ||\r\n        this.checkPasswordTip.length > 0\r\n      ) {\r\n        this.ToastError({\r\n          title: '請正確填寫所有資料',\r\n        })\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    handleSubmit(e) {\r\n      if (!this.formValidation()) {\r\n        // 驗證失敗\r\n        return\r\n      }\r\n      this.accountTip = ''\r\n      this.nameTip = ''\r\n      this.emailTip = ''\r\n      this.passwordTip = ''\r\n      this.checkPasswordTip = ''\r\n      this.isProcessing = true\r\n      const formData = new FormData(e.target)\r\n      const requestData = {}\r\n      for (let [key, value] of formData.entries()) {\r\n        requestData[key] = value\r\n      }\r\n      if (this.page === 'signUp') {\r\n        this.handleSignUpSubmit(requestData)\r\n      } else if (this.page === 'setting') {\r\n        this.handleSettingSubmit(requestData)\r\n      }\r\n    },\r\n    // 註冊\r\n    async handleSignUpSubmit(requestData) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data } = await usersAPI.signUp(requestData)\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.ToastSuccess({\r\n          title: '帳號註冊成功！',\r\n          description: data.message,\r\n        })\r\n        this.$router.push({ name: 'UserLogin' })\r\n      } catch (err) {\r\n        this.isProcessing = false\r\n        if (err.response) {\r\n          this.handleError(err.response.data)\r\n        } else {\r\n          console.log(err)\r\n          this.ToastError({\r\n            title: '帳號註冊失敗！',\r\n            description: err.message,\r\n          })\r\n        }\r\n      }\r\n    },\r\n    // 設定帳戶資料\r\n    async handleSettingSubmit(requestData) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data } = await usersAPI.setting({\r\n          userId: this.$store.getters.getCurrentUser.id,\r\n          requestData,\r\n        })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        this.isProcessing = false\r\n        // 更新vuex的state\r\n        const { account, name, email } = data.user\r\n        this.$store.commit('setCurrentUser', { account, name, email })\r\n        this.ToastSuccess({\r\n          title: '帳戶設定成功！',\r\n          description: data.message,\r\n        })\r\n      } catch (err) {\r\n        this.isProcessing = false\r\n        if (err.response) {\r\n          this.handleError(err.response.data)\r\n        } else {\r\n          console.log(err)\r\n          this.ToastError({\r\n            title: '帳戶設定失敗！',\r\n            description: err.message,\r\n          })\r\n        }\r\n      }\r\n    },\r\n    // 錯誤提示處理\r\n    handleError(errorData) {\r\n      // console.log(errorData)\r\n      const title = this.page === 'signUp' ? '帳號註冊失敗！' : '帳戶設定失敗！'\r\n      if (\r\n        errorData.errType === 'UserSingnUpError' ||\r\n        errorData.errType === 'PutUserFormatError'\r\n      ) {\r\n        const messageArr = errorData.message.split('|')\r\n        // console.log('messageArr', messageArr)\r\n        messageArr.forEach((message) => {\r\n          if (message.includes('account cannot be blank')) {\r\n            this.accountTip += '請填寫帳號 '\r\n          } else if (message.includes('account should not exceed')) {\r\n            this.accountTip += '帳號上限 50 字 '\r\n          } else if (message.includes('account should only include')) {\r\n            this.accountTip += '帳號只能為英文、數字與_ '\r\n          } else if (message.includes('name cannot be blank')) {\r\n            this.nameTip += '請填寫名稱 '\r\n          } else if (message.includes('name should not exceed')) {\r\n            this.nameTip += '名稱上限 50 字 '\r\n          } else if (message.includes('email cannot be blank')) {\r\n            this.emailTip += '請填寫Email '\r\n          } else if (message.includes('Email must be a valid email')) {\r\n            this.emailTip += '請填寫正確的Email '\r\n          } else if (message.includes('password cannot be blank')) {\r\n            this.passwordTip += '請填寫密碼 '\r\n          } else if (message.includes('password should not exceed')) {\r\n            this.passwordTip += '密碼上限 50 字 '\r\n          } else if (message.includes('at least 4 characters')) {\r\n            this.passwordTip += '密碼至少 4 個字 '\r\n          } else if (message.includes('is not equal to checkPassword')) {\r\n            this.checkPasswordTip += '密碼輸入不一致 '\r\n          }\r\n          this.ToastError({\r\n            title: title,\r\n            description: message,\r\n          })\r\n        })\r\n      } else {\r\n        switch (errorData.errType) {\r\n          case 'AccountExistsError':\r\n            this.accountTip = '帳號已被使用'\r\n            break\r\n          case 'NameExistsError':\r\n            this.nameTip = '名稱已被使用'\r\n            break\r\n          case 'EmailExistsError':\r\n            this.emailTip = 'Email已被使用'\r\n            break\r\n          default:\r\n            break\r\n        }\r\n        this.ToastError({\r\n          title: title,\r\n          description: errorData.message,\r\n        })\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/styles/mixin.scss';\r\n.form {\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  max-width: 90vw;\r\n  &__account,\r\n  &__name,\r\n  &__email,\r\n  &__password,\r\n  &__checkPassword {\r\n    position: relative;\r\n    margin-top: 30px;\r\n    &__label {\r\n      position: absolute;\r\n      top: 5px;\r\n      left: 10px;\r\n      @include font-setting(15px, 500, var(--gray-500));\r\n    }\r\n    &__input {\r\n      width: 100%;\r\n      height: 50px;\r\n      padding: 0 10px;\r\n      padding-top: 20px;\r\n      background-color: var(--input-bg);\r\n      border: none;\r\n      @include font-setting(19px, 500, var(--black));\r\n    }\r\n    &__input:hover ~ &__border:not(.error),\r\n    &__input:focus ~ &__border:not(.error) {\r\n      border-bottom: 2px solid var(--input-hover-border);\r\n    }\r\n    &__border {\r\n      position: absolute;\r\n      top: 50px;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 2px;\r\n      border-radius: 0 0 4px 4px;\r\n      background-color: var(--gray-500);\r\n      &.error {\r\n        border-bottom: 2px solid var(--input-error-border);\r\n      }\r\n    }\r\n    &__tip {\r\n      position: absolute;\r\n      top: 52px;\r\n      left: 0;\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n      color: var(--input-error-border);\r\n    }\r\n    &__length {\r\n      position: absolute;\r\n      top: 52px;\r\n      right: 0;\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n      color: var(--gray-500);\r\n      &.error {\r\n        color: var(--input-error-border);\r\n      }\r\n    }\r\n  }\r\n  &__submit {\r\n    margin-top: 40px;\r\n    width: 100%;\r\n    height: 50px;\r\n    background-color: var(--theme);\r\n    border-radius: 50px;\r\n    @include font-setting(18px, bold, var(--white));\r\n    &:hover {\r\n      background-color: var(--theme-600);\r\n    }\r\n    &__spinner {\r\n      @include spinner(35px, var(--white));\r\n      margin: 0 auto;\r\n    }\r\n    &--setting {\r\n      width: 122px;\r\n    }\r\n    &__wrapper {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n    }\r\n  }\r\n  &__cancel-link {\r\n    display: inline-block;\r\n    margin-top: 20px;\r\n    @include font-setting(18px, bold, var(--blue-light));\r\n    text-decoration: underline;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n  .form__submit__wrapper {\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountForm.vue?vue&type=template&id=aad6ff76&scoped=true&\"\nimport script from \"./AccountForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountForm.vue?vue&type=style&index=0&id=aad6ff76&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aad6ff76\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}